<div ng-cloak>
    <div class="row">
        <div class="col-md-12">
            <div ng-switch="vm.isAuthenticated()">
                <div ng-switch-when="true"
                     translate-values="{username: '{{vm.account.login}}'}">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            欢迎进入服务器监控系统!
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="row row-sm text-center">
                                <div class="col-xs-12 m-b-md">
                                    <div class="r bg-light dker item hbox no-border">
                                        <div class="col dk padder-v r-r">
                                            <a class="text-muted text-xs" ui-sref="computer">
                                                服务器数量-><span class="badge bg-light">{{vm.cpNum}}</span>
                                            </a>
                                        </div>
                                        <div class="col w-xs v-middle hidden-md">
                                            <div class="">
                                                <a class="btn btn-info" ui-sref="computer" title="详情">
                                                    <i class="fa fa-eye-slash"></i>
                                                    <span class="sr-only">查看</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="row row-sm text-center">
                                <div class="col-xs-12 m-b-md">
                                    <div class="r bg-light dker item hbox no-border">
                                        <div class="col dk padder-v r-r">
                                            <a class="text-muted text-xs" ui-sref="middleware">
                                                中间件数量-><span class="badge bg-light">{{vm.middNum}}</span>
                                            </a>
                                        </div>
                                        <div class="col w-xs v-middle hidden-md">
                                            <div class="">
                                                <a class="btn btn-info" ui-sref="middleware" title="详情">
                                                    <i class="fa fa-eye-slash"></i>
                                                    <span class="sr-only">查看</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="row row-sm text-center">
                                <div class="col-xs-12 m-b-md">
                                    <div class="r bg-light dker item hbox no-border">
                                        <div class="col dk padder-v r-r">
                                            <a class="text-muted text-xs" ui-sref="application">
                                                应用程序数量-><span class="badge bg-light">{{vm.appNum}}</span>
                                            </a>
                                        </div>
                                        <div class="col w-xs v-middle hidden-md">
                                            <div class="">
                                                <a class="btn btn-info" ui-sref="application"
                                                   title="详情">
                                                    <i class="fa fa-eye-slash"></i>
                                                    <span class="sr-only">查看</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <script src="../../content/js/go.js"></script>
                            <div id="myDiagramDiv" style="width:100%; height:410px"></div>
                            <script>
                                var $ = go.GraphObject.make;
                                var myDiagram =
                                    $(go.Diagram, "myDiagramDiv",
                                        {
                                            initialContentAlignment: go.Spot.Center, // center Diagram contents
                                            "undoManager.isEnabled": true, // enable Ctrl-Z to undo and Ctrl-Y to redo
                                            layout: $(go.TreeLayout,
                                                {angle: 90, layerSpacing: 20})
                                        });

                                // the template we defined earlier
                                myDiagram.nodeTemplate =
                                    $(go.Node, "Horizontal",
                                        {background: "#44CCFF"},
                                        $(go.Picture,
                                            {margin: 7, width: 20, height: 20, background: "#00EEEE"},
                                            new go.Binding("source")),
                                        $(go.TextBlock, "Default Text",
                                            {margin: 7, stroke: "white", font: "bold 16px sans-serif"},
                                            new go.Binding("text", "name"))
                                    );

                                // define a Link template that routes orthogonally, with no arrowhead
                                myDiagram.linkTemplate =
                                    $(go.Link,
                                        {routing: go.Link.Orthogonal, corner: 5},
                                        $(go.Shape, {strokeWidth: 3, stroke: "#00EEEE"})); // the link shape

                                var model = $(go.TreeModel);
                                model.nodeDataArray =
                                    [
                                        {key: "1", name: "Don Meow", source: ""},
                                        {key: "2", parent: "1", name: "Demeter", source: ""},
                                        {key: "3", parent: "1", name: "Copricat", source: ""},
                                        {key: "4", parent: "3", name: "Jellylorum", source: ""},
                                        {key: "5", parent: "3", name: "Alonzo", source: ""},
                                        {key: "6", parent: "2", name: "Munkustrap", source: ""}
                                    ];
                                myDiagram.model = model;
                            </script>
                        </div>
                    </div>
                </div>

                <div class="alert alert-warning" ng-switch-when="false" translate="global.messages.info.authenticated"
                     translate-compile>
                    If you want to <a class="alert-link" href="" ng-click="vm.login()">sign in</a>, you can try the
                    default accounts:<br/>- Administrator (login="admin" and password="admin") <br/>- User (login="user"
                    and password="user").
                </div>
            </div>
        </div>
    </div>
</div>
